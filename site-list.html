<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../paper-filter/paper-filter.html">
<link rel="import" href="../iron-image/iron-image.html">
<link rel="import" href="../firebase-element/firebase-collection.html">

<dom-module id="site-list">
  <style>
    :host {
      display: block;
      text-align: center;
    }
    paper-button {
      background: #fff;
      min-width: 172px;
      margin: 0px 2px 6px;
    }
    paper-material {
      margin: 16px, 16px;
      height: 100px;
      min-width:360px;
      margin:10px;
      display: inline-block;
    }
    a:link {
      color:black;
    }
  </style>

  <template>
    <firebase-collection location="https://hi9site.firebaseio.com/cards/data/card" data="{{cards}}">
    </firebase-collection>
    <paper-filter by="type" data="{{cards}}" output="{{output}}" max="1" ></paper-filter>
    <template is="dom-repeat" items="{{output}}" as="card" observe="cards" id="cards">
      <a href="{{card.url}}" title="{{card.value}}" >
        <paper-material>
          <div class="body1" style="float: left;width:250px">
            <h3>{{card.value}}</h3>
            <span>{{card.title}}</span>
          </div>
          <iron-image sizing="cover" src="{{card.image}}" style="float: right;width:100px; height:100px;"></iron-image>
        </paper-material>
      </a>
    </template>
  </template>
<script type="text/javascript">
 Polymer({
   is: 'site-list',    
    properties: {
//      output: {
//        type: Array
//      },
//      cards: {
//        type: Array
//      }
    },
    ready: function() {
      setInterval(function() {       
        document.querySelectorAll('html site-list')[0].$.cards.render();
      },1000)
    }
  });
</script>
</dom-module>
